/* eslint-disable react/react-in-jsx-scope */
import React from "react";
import c3 from "c3";

class ChartDemoLive extends React.Component {
  componentDidMount() {
    this._updateChart();
  }
  componentDidUpdate() {
    this._updateChart();
  }
  _updateChart() {
    c3.generate({
      bindto: "#chartlive",
      "size": {
        "height": 600
      },
      "padding": {
        "top": 60,
        "left": 100,
        "bottom": 60
      },
      "bar": {
        "width": {
          "ratio": 0.5
        }
      },
      "color": {
        "pattern": ["#BBE5F9", "#F6C25E", "#A8B99B", "#9690AF"]
      },
      "point": {
        "r": 0,
        "focus": {
          "expand": {
            "enabled": true,
            "r": 5
          }
        }
      },
      "line": {
        "connectNull": true
      },
      "axis": {
        "x": {
          "type": "category",
          "categories": ["Jul 2016", "Aug 2016", "Sep 2016", "Oct 2016", "Nov 2016", "Dec 2016", "Jan 2017", "Feb 2017", "Mar 2017", "Apr 2017", "May 2017", "Jun 2017", "Jul 2017", "Aug 2017", "Sep 2017", "Oct 2017", "Nov 2017", "Dec 2017", "Jan 2018", "Feb 2018", "Mar 2018", "Apr 2018", "May 2018", "Jun 2018", "Jul 2018", "Aug 2018", "Sep 2018", "Oct 2018", "Nov 2018", "Dec 2018", "Jan 2019", "Feb 2019", "Mar 2019", "Apr 2019"],
          "label": {
            "text": "Month",
            "position": "outer-center"
          },
          "tick": {
            "centered": true
          }
        },
        "y": {
          "show": true,
          "label": {
            "text": "Revenue ($)",
            "position": "outer-middle"
          },
          "tick": {
            count:6,
            // values:[...[...Array(4).keys()].map(n => n*(255171/3)),...[...Array(3).keys()].map(n => ((n+1)*(255171/3))*-1)]
          },
          "min": -255171.99,
          "max": 255171.99
        },
        "y2": {
          "show": true,
          "label": {
            "text": "Compounded Monthly Growth Rate (CMGR)",
            "position": "outer-middle"
          },
          "tick": {
            count:6,
            values:[0,20,40,60,-20,-40,-60]
            // values:[...[...Array(4).keys()].map(n => n*(52/3)),...[...Array(3).keys()].map(n => ((n+1)*(52/3))*-1)]
          },
          "min": -(0.52*100),
          "max": (0.52 * 100)
        }
      },
      "legend": {
        "position": "right",
        "show": true
      },
      "grid": {
        "x": {
          "show": false
        },
        "y": {
          "show": true
        },
        "y2": {
          "show": true
        }
      },
      "tooltip": {
        "grouped": true
      },
      "data": {
        "columns": [
          // ["CMGR3", null, null, null, 0.462380167783174, 0.520098990503141, 0.517632364295778, 0.400077390669464, 0.479350843793207, 0.286489818839145, 0.31889040779329, 0.175193896468634, 0.274211604830564, 0.199930024789587, 0.0805409612629406, -0.0274982193977735, 0.0428203855906417, 0.0376609592633323, 0.0891032945876817, 0.121664256051011, 0.170332439334237, 0.0955224679170144, 0.0670046089558716, 0.0357611373293059, 0.0909369714738451, 0.082740791657917, 0.212875675954589, 0.0514176034411895, 0.100999387992317, -0.0672367365968297, 0.0223382832842718, -0.115929747183178, -0.0222971252019485, -0.0227245084119133, 0.122795572926687],
          // ["CMGR6", null, null, null, null, null, null, 0.430889726525647, 0.499586517760821, 0.397289728512773, 0.35887771367486, 0.318531032005505, 0.280335993659949, 0.258004848845247, 0.126874057985433, 0.11318150117658, 0.118620351653261, 0.0588839267773527, 0.0291525121410683, 0.0815240875719581, 0.102001942673678, 0.0923081658136811, 0.0939931128245224, 0.100992669556982, 0.0932273154888421, 0.0748439026219234, 0.120825360868398, 0.0709950214881576, 0.0918319234065668, 0.0636380369306697, 0.0367759968850208, -0.0134095037486255, -0.0450312444193309, -0.000447025733024353, -0.00369173143102708],
          ["CMGR3", null, null, null, 46.2380167783174, 52.0098990503141, 51.7632364295778, 0.400077390669464, 0.479350843793207, 0.286489818839145, 0.31889040779329, 0.175193896468634, 0.274211604830564, 0.199930024789587, 0.0805409612629406, -0.0274982193977735, 0.0428203855906417, 0.0376609592633323, 0.0891032945876817, 0.121664256051011, 0.170332439334237, 0.0955224679170144, 0.0670046089558716, 0.0357611373293059, 0.0909369714738451, 0.082740791657917, 0.212875675954589, 0.0514176034411895, 0.100999387992317, -0.0672367365968297, 0.0223382832842718, -0.115929747183178, -0.0222971252019485, -0.0227245084119133, 0.122795572926687],
          ["CMGR6", null, null, null, null, null, null, 43.0889726525647, 0.499586517760821, 39.7289728512773, 0.35887771367486, 0.318531032005505, 0.280335993659949, 0.258004848845247, 0.126874057985433, 0.11318150117658, 0.118620351653261, 0.0588839267773527, 0.0291525121410683, 0.0815240875719581, 0.102001942673678, 0.0923081658136811, 0.0939931128245224, 0.100992669556982, 0.0932273154888421, 0.0748439026219234, 0.120825360868398, 0.0709950214881576, 0.0918319234065668, 0.0636380369306697, 0.0367759968850208, -0.0134095037486255, -0.0450312444193309, -0.000447025733024353, -0.00369173143102708],
          ["CMGR12", null, null, null, null, null, null, null, null, null, null, null, null, 0.341665462823021, 0.299940438854558, 0.247171631157663, 0.232910485771271, 0.181596934977315, 0.147894160739468, 0.16643154377291, 0.114368610940078, 0.10269544470262, 0.106238202456421, 0.0797330416790891, 0.0607061978119001, 0.0781788214695456, 0.111373800786622, 0.0815990974096241, 0.0929119839075494, 0.0821541857437165, 0.0646275592139627, 0.0297721977605181, 0.0345787549006353, 0.0346575564666851, 0.0429770722204434],
          ["Revenue", 2207.62, 3086.24, 5379.06, 6904.07, 10840.4, 18802.09, 18947.91, 35096.1, 40033.65, 43469.78, 56962.29, 82822.79, 75102.64, 71863.96, 76176.51, 85169.43, 80292.98, 98407.52, 120191.12, 128707.93, 129387.45, 146006.19, 143015.84, 167992.98, 185329.59, 255171.99, 195261.61, 247346.63, 207084.36, 208641.52, 170909.55, 193538.77, 194738.473158, 241918.123684]
        ],
        "types": {
          "Revenue": "bar",
          "CMGR3": "spline",
          "CMGR6": "spline",
          "CMGR12": "spline"
        },
        "axes": {
          "Revenue": "y",
          "CMGR3": "y2",
          "CMGR6": "y2",
          "CMGR12": "y2"
        },
        "groups": [],
        "order": null
      }
    });
  }
  render() {
    return <div id="chartlive"></div>;
  }
}

export default ChartDemoLive;
